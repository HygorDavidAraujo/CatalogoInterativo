<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Perfil - Davini Vinhos Finos</title>    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Davini Vinhos Finos</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="index.html" class="nav-link">Cat√°logo</a></li>
                    <li><a href="meu-perfil.html" class="nav-link active"><i class="fas fa-user-circle"></i> Meu Perfil</a></li>
                    <li id="menu-usuario">
                        <span id="badge-vip-header"></span>
                        <a href="#" class="nav-link" id="usuario-nome"></a>
                        <a href="#" class="nav-link" id="btn-logout"><i class="fas fa-sign-out-alt"></i> Sair</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero hero-small">
        <div class="hero-content">
            <h2>Meu Perfil</h2>
            <p>Gerencie suas informa√ß√µes e pedidos</p>
        </div>
    </section>

    <main class="container perfil-container">

        <!-- Tabs -->
        <div class="perfil-tabs">
            <button class="tab-btn active" data-tab="dados">
                üìã Dados Pessoais
            </button>
            <button class="tab-btn" data-tab="endereco">
                üìç Endere√ßo
            </button>
            <button class="tab-btn" data-tab="historico">
                üõçÔ∏è Hist√≥rico de Pedidos
            </button>
        </div>

        <!-- Tab Content: Dados Pessoais -->
        <div class="tab-content active" id="tab-dados">
            <div class="perfil-card">
                <h3>Informa√ß√µes Pessoais</h3>
                <form id="formDadosPessoais" class="perfil-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nome">Nome Completo *</label>
                            <input type="text" id="nome" name="nome" required>
                        </div>
                        <div class="form-group">
                            <label for="email">E-mail *</label>
                            <input type="email" id="email" name="email" required readonly>
                            <small>O e-mail n√£o pode ser alterado</small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="telefone">Telefone</label>
                            <input type="tel" id="telefone" name="telefone" placeholder="(00) 00000-0000">
                        </div>
                        <div class="form-group">
                            <label for="cpf">CPF</label>
                            <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00">
                        </div>
                    </div>
                    <button type="submit" class="btn-salvar">Salvar Altera√ß√µes</button>
                </form>
            </div>
        </div>

        <!-- Tab Content: Endere√ßo -->
        <div class="tab-content" id="tab-endereco">
            <div class="perfil-card">
                <h3>Endere√ßo de Entrega</h3>
                <form id="formEndereco" class="perfil-form">
                    <div class="form-row">
                        <div class="form-group flex-3">
                            <label for="logradouro">Logradouro</label>
                            <input type="text" id="logradouro" name="logradouro" placeholder="Rua, Avenida, etc.">
                        </div>
                        <div class="form-group flex-1">
                            <label for="numero">N√∫mero</label>
                            <input type="text" id="numero" name="numero" placeholder="123 ou SN">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="complemento">Complemento</label>
                            <input type="text" id="complemento" name="complemento" placeholder="Apto, Bloco, etc.">
                        </div>
                        <div class="form-group">
                            <label for="bairro">Bairro</label>
                            <input type="text" id="bairro" name="bairro">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cep">CEP</label>
                            <input type="text" id="cep" name="cep" placeholder="00000-000">
                        </div>
                        <div class="form-group">
                            <label for="cidade">Cidade</label>
                            <input type="text" id="cidade" name="cidade">
                        </div>
                        <div class="form-group">
                            <label for="estado">Estado</label>
                            <select id="estado" name="estado">
                                <option value="">Selecione...</option>
                                <option value="AC">Acre</option>
                                <option value="AL">Alagoas</option>
                                <option value="AP">Amap√°</option>
                                <option value="AM">Amazonas</option>
                                <option value="BA">Bahia</option>
                                <option value="CE">Cear√°</option>
                                <option value="DF">Distrito Federal</option>
                                <option value="ES">Esp√≠rito Santo</option>
                                <option value="GO">Goi√°s</option>
                                <option value="MA">Maranh√£o</option>
                                <option value="MT">Mato Grosso</option>
                                <option value="MS">Mato Grosso do Sul</option>
                                <option value="MG">Minas Gerais</option>
                                <option value="PA">Par√°</option>
                                <option value="PB">Para√≠ba</option>
                                <option value="PR">Paran√°</option>
                                <option value="PE">Pernambuco</option>
                                <option value="PI">Piau√≠</option>
                                <option value="RJ">Rio de Janeiro</option>
                                <option value="RN">Rio Grande do Norte</option>
                                <option value="RS">Rio Grande do Sul</option>
                                <option value="RO">Rond√¥nia</option>
                                <option value="RR">Roraima</option>
                                <option value="SC">Santa Catarina</option>
                                <option value="SP">S√£o Paulo</option>
                                <option value="SE">Sergipe</option>
                                <option value="TO">Tocantins</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn-salvar">Salvar Endere√ßo</button>
                </form>
            </div>
        </div>

        <!-- Tab Content: Hist√≥rico de Pedidos -->
        <div class="tab-content" id="tab-historico">
            <div class="perfil-card">
                <h3>Meus Pedidos</h3>
                <div id="listaPedidos" class="pedidos-lista">
                    <!-- Pedidos ser√£o carregados aqui -->
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de Confirma√ß√£o -->
    <div id="modalConfirmacao" class="modal">
        <div class="modal-content modal-small">
            <h3>Refazer Pedido</h3>
            <p>Deseja repetir este pedido? Os itens ser√£o enviados para o WhatsApp.</p>
            <div class="modal-actions">
                <button id="btnCancelarRefazer" class="btn-secundario">Cancelar</button>
                <button id="btnConfirmarRefazer" class="btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <!-- Bot√£o Carrinho Flutuante -->
    <button class="btn-carrinho" id="btn-abrir-carrinho" title="Ver Carrinho">
        <i class="fas fa-shopping-cart"></i>
        <span class="badge-carrinho" id="badge-carrinho">0</span>
    </button>

    <!-- Overlay -->
    <div class="carrinho-overlay" id="carrinho-overlay"></div>

    <!-- Sidebar Carrinho -->
    <div class="carrinho-sidebar" id="carrinho-sidebar">
        <div class="carrinho-header">
            <h3><i class="fas fa-shopping-cart"></i> Meu Carrinho</h3>
            <button class="btn-fechar-carrinho" id="btn-fechar-carrinho" title="Fechar carrinho" aria-label="Fechar carrinho">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="carrinho-body" id="carrinho-body">
            <div class="carrinho-vazio">
                <i class="fas fa-shopping-cart"></i>
                <p>Seu carrinho est√° vazio</p>
            </div>
        </div>
        <div class="carrinho-footer" id="carrinho-footer" style="display: none;">
            <div class="carrinho-total">
                <span>Total:</span>
                <span class="carrinho-total-valor" id="carrinho-total">R$ 0,00</span>
            </div>
            <button class="btn-finalizar" id="btn-finalizar-pedido">
                <i class="fab fa-whatsapp"></i> Finalizar Pedido
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Davini Vinhos Finos. Todos os direitos reservados.</p>
        </div>
    </footer>

    <div id="mensagem" class="mensagem"></div>

    <script>
        console.log('=== Iniciando carregamento dos scripts ===');
    </script>
    <script src="js/api.js"></script>
    <script>
        console.log('‚úì api.js carregado');
    </script>
    <script src="js/auth.js"></script>
    <script>
        console.log('‚úì auth.js carregado');
    </script>
    <script src="js/carrinho.js"></script>
    <script>
        console.log('‚úì carrinho.js carregado');
    </script>
    <script src="js/perfil.js"></script>
    <script>
        console.log('‚úì perfil.js carregado');
        console.log('=== Todos os scripts foram carregados ===');
    </script>
    <script>
        // Inicializar carrinho quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üõí Configurando eventos do carrinho...');
            configurarEventosCarrinho();
            console.log('‚úÖ Eventos do carrinho configurados');
        });
    </script>
</body>
</html>
